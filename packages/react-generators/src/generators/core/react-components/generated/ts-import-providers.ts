import type { TsImportMapProviderFromSchema } from '@baseplate-dev/core-generators';

import {
  createTsImportMap,
  createTsImportMapSchema,
  packageScope,
} from '@baseplate-dev/core-generators';
import {
  createGeneratorTask,
  createReadOnlyProviderType,
} from '@baseplate-dev/sync';

import { CORE_REACT_COMPONENTS_PATHS } from './template-paths.js';

const reactComponentsImportsSchema = createTsImportMapSchema({
  AddOptionRequiredFields: { isTypeOnly: true },
  Alert: {},
  Button: {},
  buttonVariants: {},
  Calendar: {},
  Card: {},
  Checkbox: {},
  CheckboxField: {},
  CheckboxFieldController: {},
  CheckedInput: {},
  CircularProgress: {},
  cn: {},
  Combobox: {},
  ComboboxField: {},
  ComboboxFieldController: {},
  ConfirmDialog: {},
  DatePickerField: {},
  DatePickerFieldController: {},
  DateTimePickerField: {},
  DateTimePickerFieldController: {},
  Dialog: {},
  DialogClose: {},
  DialogContent: {},
  DialogDescription: {},
  DialogFooter: {},
  DialogHeader: {},
  DialogOverlay: {},
  DialogPortal: {},
  DialogTitle: {},
  DialogTrigger: {},
  DialogWidth: { isTypeOnly: true },
  EmptyDisplay: {},
  ErrorableLoader: {},
  ErrorDisplay: {},
  FormControl: {},
  FormDescription: {},
  FormFieldProps: { isTypeOnly: true },
  FormItem: {},
  FormLabel: {},
  FormMessage: {},
  IconElement: { isTypeOnly: true },
  Input: {},
  InputField: {},
  InputFieldController: {},
  inputVariants: {},
  Label: {},
  LinkButton: {},
  ListGroup: {},
  Loader: {},
  mergeRefs: {},
  Modal: {},
  MultiSelectOptionProps: { isTypeOnly: true },
  NavigationMenu: {},
  NavigationMenuContent: {},
  NavigationMenuIndicator: {},
  NavigationMenuItem: {},
  NavigationMenuItemWithLink: {},
  NavigationMenuLink: {},
  NavigationMenuList: {},
  NavigationMenuTrigger: {},
  navigationMenuTriggerStyle: {},
  NavigationMenuViewport: {},
  NotFoundCard: {},
  Popover: {},
  PopoverAnchor: {},
  PopoverContent: {},
  PopoverTrigger: {},
  ReactDatePickerInput: {},
  ReactSelectInput: {},
  ScrollArea: {},
  Select: {},
  selectCheckVariants: {},
  selectContentVariants: {},
  SelectField: {},
  SelectFieldController: {},
  SelectInput: {},
  selectItemVariants: {},
  SelectOptionProps: { isTypeOnly: true },
  selectTriggerVariants: {},
  SidebarLayout: {},
  SidebarLayoutContent: {},
  SidebarLayoutSidebar: {},
  Switch: {},
  SwitchField: {},
  SwitchFieldController: {},
  Table: {},
  TableBody: {},
  TableCaption: {},
  TableCell: {},
  TableFooter: {},
  TableHead: {},
  TableHeader: {},
  TableRow: {},
  Textarea: {},
  TextareaField: {},
  TextareaFieldController: {},
  TextAreaInput: {},
  TextInput: {},
  Toaster: {},
  useConfirmDialog: {},
  UseConfirmDialogRequestOptions: { isTypeOnly: true },
  useConfirmDialogState: {},
  useControlledState: {},
  useControllerMerged: {},
});

export type ReactComponentsImportsProvider = TsImportMapProviderFromSchema<
  typeof reactComponentsImportsSchema
>;

export const reactComponentsImportsProvider =
  createReadOnlyProviderType<ReactComponentsImportsProvider>(
    'react-components-imports',
  );

const coreReactComponentsImportsTask = createGeneratorTask({
  dependencies: {
    paths: CORE_REACT_COMPONENTS_PATHS.provider,
  },
  exports: {
    reactComponentsImports: reactComponentsImportsProvider.export(packageScope),
  },
  run({ paths }) {
    return {
      providers: {
        reactComponentsImports: createTsImportMap(
          reactComponentsImportsSchema,
          {
            AddOptionRequiredFields: paths.typesForm,
            Alert: paths.index,
            Button: paths.index,
            buttonVariants: paths.stylesButton,
            Calendar: paths.index,
            Card: paths.index,
            Checkbox: paths.index,
            CheckboxField: paths.index,
            CheckboxFieldController: paths.index,
            CheckedInput: paths.index,
            CircularProgress: paths.index,
            cn: paths.cn,
            Combobox: paths.index,
            ComboboxField: paths.index,
            ComboboxFieldController: paths.index,
            ConfirmDialog: paths.index,
            DatePickerField: paths.index,
            DatePickerFieldController: paths.index,
            DateTimePickerField: paths.index,
            DateTimePickerFieldController: paths.index,
            Dialog: paths.index,
            DialogClose: paths.index,
            DialogContent: paths.index,
            DialogDescription: paths.index,
            DialogFooter: paths.index,
            DialogHeader: paths.index,
            DialogOverlay: paths.index,
            DialogPortal: paths.index,
            DialogTitle: paths.index,
            DialogTrigger: paths.index,
            DialogWidth: paths.index,
            EmptyDisplay: paths.index,
            ErrorableLoader: paths.index,
            ErrorDisplay: paths.index,
            FormControl: paths.index,
            FormDescription: paths.index,
            FormFieldProps: paths.typesForm,
            FormItem: paths.index,
            FormLabel: paths.index,
            FormMessage: paths.index,
            IconElement: paths.typesIcon,
            Input: paths.index,
            InputField: paths.index,
            InputFieldController: paths.index,
            inputVariants: paths.stylesInput,
            Label: paths.index,
            LinkButton: paths.index,
            ListGroup: paths.index,
            Loader: paths.index,
            mergeRefs: paths.mergeRefs,
            Modal: paths.index,
            MultiSelectOptionProps: paths.typesForm,
            NavigationMenu: paths.index,
            NavigationMenuContent: paths.index,
            NavigationMenuIndicator: paths.index,
            NavigationMenuItem: paths.index,
            NavigationMenuItemWithLink: paths.index,
            NavigationMenuLink: paths.index,
            NavigationMenuList: paths.index,
            NavigationMenuTrigger: paths.index,
            navigationMenuTriggerStyle: paths.index,
            NavigationMenuViewport: paths.index,
            NotFoundCard: paths.index,
            Popover: paths.index,
            PopoverAnchor: paths.index,
            PopoverContent: paths.index,
            PopoverTrigger: paths.index,
            ReactDatePickerInput: paths.index,
            ReactSelectInput: paths.index,
            ScrollArea: paths.index,
            Select: paths.index,
            selectCheckVariants: paths.stylesSelect,
            selectContentVariants: paths.stylesSelect,
            SelectField: paths.index,
            SelectFieldController: paths.index,
            SelectInput: paths.index,
            selectItemVariants: paths.stylesSelect,
            SelectOptionProps: paths.typesForm,
            selectTriggerVariants: paths.stylesSelect,
            SidebarLayout: paths.index,
            SidebarLayoutContent: paths.index,
            SidebarLayoutSidebar: paths.index,
            Switch: paths.index,
            SwitchField: paths.index,
            SwitchFieldController: paths.index,
            Table: paths.index,
            TableBody: paths.index,
            TableCaption: paths.index,
            TableCell: paths.index,
            TableFooter: paths.index,
            TableHead: paths.index,
            TableHeader: paths.index,
            TableRow: paths.index,
            Textarea: paths.index,
            TextareaField: paths.index,
            TextareaFieldController: paths.index,
            TextAreaInput: paths.index,
            TextInput: paths.index,
            Toaster: paths.index,
            useConfirmDialog: paths.useConfirmDialog,
            UseConfirmDialogRequestOptions: paths.useConfirmDialog,
            useConfirmDialogState: paths.useConfirmDialog,
            useControlledState: paths.hooksUseControlledState,
            useControllerMerged: paths.hooksUseControllerMerged,
          },
        ),
      },
    };
  },
});

export const CORE_REACT_COMPONENTS_IMPORTS = {
  task: coreReactComponentsImportsTask,
};
